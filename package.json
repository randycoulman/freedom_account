{
  "name": "freedom-account-dev",
  "version": "1.0.0",
  "description": "Development support for Freedom Account app",
  "private": true,
  "scripts": {
    "build": "docker build -t freedom_account .",
    "client": "cd client && npm run",
    "console": "cd server && scripts/console.sh",
    "db": "npm run dev -- up --build -d",
    "db:stop": "npm run dev -- down",
    "dev": "docker compose -f docker-compose-dev.yml",
    "devc": "cd client && npm start",
    "deve": "npm run e2e dev",
    "devs": "cd server && ./scripts/wait-for-it.sh localhost:5432 --strict -t 30 -- mix s",
    "e2e": "cd e2e && npm run",
    "precommit:format:server": "cd server && mix format",
    "precommit:format:client": "cd client && npx prettier --write",
    "precommit:format:e2e": "cd e2e && npx prettier --write",
    "precommit:lint:client": "cd client && npx eslint --fix",
    "precommit:lint:e2e": "cd e2e && npx eslint --fix",
    "precommit:stylelint": "cd client && npx stylelint --fix",
    "prepare": "husky install",
    "prod": "docker compose -f docker-compose-prod.yml -p freedom_account_prod",
    "server": "cd server && mix",
    "setup": "npm-run-all setup:asdf --parallel setup:server setup:client",
    "setup:asdf": "asdf install",
    "setup:client": "cd client && npm install",
    "setup:server": "cd server && mix do deps.get, deps.compile",
    "start": "npm run prod -- up -d",
    "stop": "npm run prod -- down",
    "test": "npm-run-all test:server test:client test:e2e:validate test:e2e",
    "test:client": "npm run client validate",
    "test:e2e": "npm run e2e test",
    "test:e2e:prod": "CYPRESS_BASE_URL=http://localhost:8080 npm run test:e2e",
    "test:e2e:validate": "npm run e2e validate",
    "test:server": "npm run server validate"
  },
  "devDependencies": {
    "husky": "^7.0.0",
    "lint-staged": "^11.1.2",
    "npm-run-all": "^4.1.5"
  },
  "lint-staged": {
    "client/**/*.css": [
      "npm run -s precommit:stylelint",
      "npm run -s precommit:format:client"
    ],
    "client/**/*.{gql,html,json,md}": [
      "npm run -s precommit:format:client"
    ],
    "client/**/*.js": [
      "npm run -s precommit:lint:client",
      "npm run -s precommit:format:client"
    ],
    "e2e/**/*.{gql,html,json,md}": [
      "npm run -s precommit:format:e2e"
    ],
    "e2e/**/*.js": [
      "npm run -s precommit:lint:e2e",
      "npm run -s precommit:format:e2e"
    ],
    "server/**/*.{ex,exs}": [
      "npm run -s precommit:format:server"
    ]
  }
}
